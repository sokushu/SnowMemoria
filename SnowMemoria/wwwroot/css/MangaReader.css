body {
    margin: 0; /* 移除默认的外边距 */
    padding: 0; /* 移除默认的内边距 */
    font-family: 'Microsoft YaHei', sans-serif; /* 设置字体为微软雅黑，备用字体为无衬线字体 */
    background-color: #f5e8c9; /* 设置背景颜色为米黄色 */
    height: 100vh; /* 设置高度为视口高度 */
    display: flex; /* 使用 Flexbox 布局 */
    flex-direction: column; /* 子元素垂直排列 */
    overflow: hidden; /* 注释掉的代码：隐藏溢出内容 */
}

#reader-container {
    flex: 1; /* 占据剩余的可用空间 */
    position: relative; /* 设置相对定位，为子元素提供定位参考 */
    overflow: hidden; /* 注释掉的代码：隐藏溢出内容 */
}

/* 单页模式 */
.single-page-mode .manga-page {
    display: block; /* 设置为块级元素 */
    margin: auto; /* 水平和垂直居中 */
    max-height: 100%; /* 最大高度为容器高度 */
    min-height: 100%; /* 最小高度为容器高度 */
    max-width: 100%; /* 最大宽度为容器宽度 */
    object-fit: contain; /* 保持图片比例，完全显示图片 */
}

/* 双页模式 - 修改让图片在中间聚拢 */
.double-page-mode {
    display: flex; /* 使用 Flexbox 布局 */
    justify-content: center; /* 子元素水平居中 */
    align-items: center; /* 子元素垂直居中 */
    height: 100%; /* 高度为容器高度 */
    gap: 0; /* 移除子元素之间的间隙 */
}

.double-page-mode .manga-page {
    max-height: 100%; /* 最大高度为容器高度 */
    max-width: 50%; /* 最大宽度为容器宽度的一半 */
    object-fit: contain; /* 保持图片比例，完全显示图片 */
    margin: 0; /* 移除外边距 */
    padding: 0; /* 移除内边距 */
}

/* 从左到右阅读方向时左侧页面样式 */
.double-page-mode .manga-page.ltr-left {
    object-position: right center; /* 图片靠右对齐，垂直居中 */
}

/* 从左到右阅读方向时右侧页面样式 */
.double-page-mode .manga-page.ltr-right {
    object-position: left center; /* 图片靠左对齐，垂直居中 */
}

/* 从右到左阅读方向时左侧页面样式 */
.double-page-mode .manga-page.rtl-left {
    object-position: right center; /* 图片靠右对齐，垂直居中 */
}

/* 从右到左阅读方向时右侧页面样式 */
.double-page-mode .manga-page.rtl-right {
    object-position: left center; /* 图片靠左对齐，垂直居中 */
}

/* 连续模式 */
.continuous-mode {
    display: flex; /* 使用 Flexbox 布局 */
    flex-direction: column; /* 子元素垂直排列 */
    align-items: center; /* 子元素水平居中 */
    overflow-y: auto; /* 启用垂直滚动条 */
    height: 100%; /* 高度为容器高度 */
    padding: 20px 0; /* 上下内边距为 20px */
    scrollbar-width: auto; /* 设置滚动条宽度（Firefox） */
    -ms-overflow-style: auto; /* 设置滚动条样式（IE 和 Edge） */
}

.continuous-mode::-webkit-scrollbar {
    display: auto; /* 显示滚动条（Chrome, Safari, Opera） */
    width: 8px; /* 滚动条宽度 */
}

.continuous-mode::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.5); /* 滚动条滑块颜色 */
    border-radius: 4px; /* 滚动条滑块圆角 */
}

.continuous-mode::-webkit-scrollbar-track {
    background-color: rgba(0, 0, 0, 0.1); /* 滚动条轨道颜色 */
}

/* 顶部和底部信息栏 */
.manga-info-bar {
    position: fixed; /* 固定定位 */
    top: 3%; /* 距顶部 10px */
    left: 5%; /* 距左侧 10px */
    background-color: rgba(0, 0, 0, 0.75); /* 设置背景颜色为深黑色，透明度为 85% */
    color: white; /* 设置文字颜色为白色 */
    padding: 15px; /* 设置内边距 */
    border-radius: 10px; /* 设置圆角 */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* 添加阴影效果 */
    z-index: 100; /* 设置层级 */
    width: 280px; /* 固定宽度 */
    display: flex; /* 使用 Flexbox 布局 */
    flex-direction: column; /* 子元素垂直排列 */
    gap: 10px; /* 子元素之间的间距 */
    flex-wrap: wrap; /* 允许内容换行 */
    align-items: flex-start; /* 子元素垂直居中 */
    margin: 10px; /* 设置外边距 */
    transition: transform 0.3s ease, opacity 0.3s ease; /* 添加平移和透明度的过渡效果 */
}

.manga-info-bar.hidden {
    transform: translateX(-120%); /* 隐藏时向左平移 */
    opacity: 0; /* 隐藏时透明度为 0 */
}

.manga-info-bar > div {
    display: flex; /* 使用 Flexbox 布局 */
    align-items: center; /* 子元素垂直居中 */
    gap: 10px; /* 子元素之间的间距 */
}

.manga-info-bar #manga-title {
    font-weight: bold; /* 设置标题加粗 */
    font-size: 16px; /* 设置标题字体大小 */
}

.manga-info-bar #chapter-info,
.manga-info-bar #page-info {
    font-size: 14px; /* 设置章节和页数信息字体大小 */
    white-space: nowrap; /* 防止内容换行 */
}

#top-bar {
    position: absolute; /* 固定定位 */
    top: 0; /* 距顶部 0 */
    left: 0; /* 距左侧 0 */
    right: 0; /* 距右侧 0 */
    display: flex; /* 使用 Flexbox 布局 */
    /*justify-content: space-between; /* 子元素两端对齐 */
    /*align-items: center; /* 子元素垂直居中 */
}

#bottom-bar {
    position: fixed; /* 固定定位 */
    bottom: 0; /* 距底部 0 */
    left: 0; /* 距左侧 0 */
    right: 0; /* 距右侧 0 */
    display: flex; /* 使用 Flexbox 布局 */
    justify-content: space-between; /* 子元素两端对齐 */
    align-items: center; /* 子元素垂直居中 */
}

.hidden {
    transform: translateY(-150%); /* 增加隐藏距离 */
    opacity: 0; /* 添加透明度变化 */
}

/* 按钮样式 - 调整更大更清晰 */
.control-button {
    background-color: #4a4a4a; /* 设置背景颜色 */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 10px 18px; /* 设置内边距 */
    margin: 0 8px; /* 设置外边距 */
    border-radius: 6px; /* 设置圆角 */
    cursor: pointer; /* 设置鼠标指针样式 */
    transition: background-color 0.2s; /* 添加背景颜色过渡效果 */
    font-size: 16px; /* 设置字体大小 */
    font-weight: 500; /* 设置字体粗细 */
    box-shadow: 0 3px 5px rgba(0,0,0,0.2); /* 添加阴影效果 */
}

.control-button:hover {
    background-color: #686868; /* 悬停时背景颜色 */
}

.control-button.active {
    background-color: #007acc; /* 激活状态背景颜色 */
}

/* 翻页按钮 - 调整更大更清晰 */
.nav-button {
    position: absolute; /* 绝对定位 */
    top: 50%; /* 距顶部 50% */
    transform: translateY(-50%); /* 垂直居中 */
    background-color: rgba(0, 0, 0, 0.795); /* 设置背景颜色，透明度为 79.5% */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 30px 20px; /* 设置内边距 */
    cursor: pointer; /* 设置鼠标指针样式 */
    z-index: 5; /* 设置层级 */
    opacity: 0.5; /* 设置透明度 */
    transition: opacity 0.2s, background-color 0.2s; /* 添加透明度和背景颜色过渡效果 */
    font-size: 24px; /* 设置字体大小 */
    box-shadow: 0 0 10px rgba(0,0,0,0.3); /* 添加阴影效果 */
}

.nav-button:hover {
    opacity: 0.9; /* 悬停时透明度 */
    background-color: rgba(116, 116, 116, 0.7); /* 悬停时背景颜色 */
}

#prev-button {
    left: 0; /* 距左侧 0 */
    border-radius: 0 8px 8px 0; /* 设置圆角 */
}

#next-button {
    right: 0; /* 距右侧 0 */
    border-radius: 8px 0 0 8px; /* 设置圆角 */
}

/* 返回按钮样式 - 调整更大更清晰 */
#home-button {
    background-color: #4a4a4a; /* 设置背景颜色 */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 10px 18px; /* 设置内边距 */
    margin-right: 15px; /* 设置右侧外边距 */
    border-radius: 6px; /* 设置圆角 */
    cursor: pointer; /* 设置鼠标指针样式 */
    transition: background-color 0.2s; /* 添加背景颜色过渡效果 */
    display: flex; /* 使用 Flexbox 布局 */
    align-items: center; /* 子元素垂直居中 */
    font-size: 16px; /* 设置字体大小 */
    font-weight: 500; /* 设置字体粗细 */
    box-shadow: 0 3px 5px rgba(0,0,0,0.2); /* 添加阴影效果 */
}

#home-button:hover {
    background-color: #686868; /* 悬停时背景颜色 */
}

#home-button i {
    margin-right: 8px; /* 设置图标右侧外边距 */
    font-size: 18px; /* 设置图标大小 */
}

/* 阅读方向切换按钮 */
#direction-toggle {
    display: flex; /* 使用 Flexbox 布局 */
    align-items: center; /* 子元素垂直居中 */
    margin-left: 15px; /* 设置左侧外边距 */
}

#direction-toggle .direction-label {
    color: white; /* 设置文字颜色 */
    margin-right: 8px; /* 设置右侧外边距 */
    font-size: 14px; /* 设置字体大小 */
}

.direction-button {
    background-color: #4a4a4a; /* 设置背景颜色 */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 8px 15px; /* 设置内边距 */
    border-radius: 6px; /* 设置圆角 */
    cursor: pointer; /* 设置鼠标指针样式 */
    transition: background-color 0.2s; /* 添加背景颜色过渡效果 */
    font-size: 14px; /* 设置字体大小 */
    font-weight: 500; /* 设置字体粗细 */
    box-shadow: 0 3px 5px rgba(0,0,0,0.2); /* 添加阴影效果 */
    margin: 0 3px; /* 设置外边距 */
}

.direction-button:hover {
    background-color: #686868; /* 悬停时背景颜色 */
}

.direction-button.active {
    background-color: #007acc; /* 激活状态背景颜色 */
}

/* 帮助按钮样式 */
#help-button {
    background-color: #4a4a4a; /* 设置背景颜色 */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 10px 18px; /* 设置内边距 */
    margin: 0 8px; /* 设置外边距 */
    border-radius: 6px; /* 设置圆角 */
    cursor: pointer; /* 设置鼠标指针样式 */
    transition: background-color 0.2s; /* 添加背景颜色过渡效果 */
    font-size: 16px; /* 设置字体大小 */
    font-weight: 500; /* 设置字体粗细 */
    box-shadow: 0 3px 5px rgba(0,0,0,0.2); /* 添加阴影效果 */
    display: flex; /* 使用 Flexbox 布局 */
    align-items: center; /* 子元素垂直居中 */
}

#help-button:hover {
    background-color: #686868; /* 悬停时背景颜色 */
}

#help-button i {
    margin-right: 8px; /* 设置图标右侧外边距 */
    font-size: 18px; /* 设置图标大小 */
}

/* 弹出框样式 */
.popup-overlay {
    position: fixed; /* 固定定位 */
    top: 0; /* 距顶部 0 */
    left: 0; /* 距左侧 0 */
    right: 0; /* 距右侧 0 */
    bottom: 0; /* 距底部 0 */
    background-color: rgba(0, 0, 0, 0.7); /* 设置背景颜色，透明度为 70% */
    display: flex; /* 使用 Flexbox 布局 */
    justify-content: center; /* 子元素水平居中 */
    align-items: center; /* 子元素垂直居中 */
    z-index: 100; /* 设置层级 */
    opacity: 0; /* 设置透明度 */
    visibility: hidden; /* 设置不可见 */
    transition: opacity 0.3s ease, visibility 0.3s; /* 添加透明度和可见性过渡效果 */
}

.popup-overlay.active {
    opacity: 1; /* 激活状态透明度 */
    visibility: visible; /* 激活状态可见 */
}

.help-popup {
    background-color: rgba(255, 255, 255, 0.9); /* 设置背景颜色，透明度为 90% */
    border-radius: 10px; /* 设置圆角 */
    padding: 30px; /* 设置内边距 */
    max-width: 600px; /* 设置最大宽度 */
    width: 80%; /* 设置宽度 */
    max-height: 80vh; /* 设置最大高度 */
    overflow-y: auto; /* 启用垂直滚动条 */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* 添加阴影效果 */
}

.help-popup h2 {
    color: #333; /* 设置文字颜色 */
    margin-top: 0; /* 设置顶部外边距 */
    padding-bottom: 10px; /* 设置底部内边距 */
    border-bottom: 1px solid #ddd; /* 设置底部边框 */
}

.help-popup h3 {
    color: #444; /* 设置文字颜色 */
    margin: 15px 0 10px; /* 设置外边距 */
}

.help-popup ul {
    padding-left: 20px; /* 设置左侧内边距 */
}

.help-popup li {
    margin-bottom: 8px; /* 设置底部外边距 */
    line-height: 1.5; /* 设置行高 */
}

.help-popup kbd {
    background-color: #f7f7f7; /* 设置背景颜色 */
    border: 1px solid #ccc; /* 设置边框 */
    border-radius: 3px; /* 设置圆角 */
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2); /* 添加阴影效果 */
    color: #333; /* 设置文字颜色 */
    display: inline-block; /* 设置为行内块级元素 */
    font-size: 0.9em; /* 设置字体大小 */
    line-height: 1; /* 设置行高 */
    padding: 3px 6px; /* 设置内边距 */
    margin: 0 3px; /* 设置外边距 */
}

.help-popup .close-btn {
    background-color: #4a4a4a; /* 设置背景颜色 */
    color: white; /* 设置文字颜色 */
    border: none; /* 移除边框 */
    padding: 8px 16px; /* 设置内边距 */
    border-radius: 5px; /* 设置圆角 */
    cursor: pointer; /* 设置鼠标指针样式 */
    margin-top: 20px; /* 设置顶部外边距 */
    transition: background-color 0.2s; /* 添加背景颜色过渡效果 */
}

.help-popup .close-btn:hover {
    background-color: #686868; /* 悬停时背景颜色 */
}

#options-menu {
    position: absolute; /* 绝对定位 */
    top: 100%; /* 位于按钮下方 */
    left: 0; /* 与按钮左对齐 */
    background-color: rgba(0, 0, 0, 0.85); /* 深色背景 */
    color: white; /* 白色文字 */
    border-radius: 8px; /* 圆角 */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* 阴影效果 */
    padding: 10px; /* 内边距 */
    display: none; /* 默认隐藏 */
    flex-direction: column; /* 垂直排列子元素 */
    gap: 5px; /* 子元素间距 */
    z-index: 200; /* 确保在前面显示 */
}

#options-menu button {
    background-color: transparent; /* 透明背景 */
    color: white; /* 白色文字 */
    border: none; /* 无边框 */
    padding: 5px 10px; /* 内边距 */
    text-align: left; /* 左对齐文字 */
    cursor: pointer; /* 鼠标指针样式 */
    transition: background-color 0.2s; /* 背景颜色过渡效果 */
}

#options-menu button:hover {
    background-color: rgba(255, 255, 255, 0.2); /* 悬停时背景颜色 */
}

#options-menu-button.active + #options-menu {
    display: flex; /* 显示菜单 */
}

/* 下拉菜单样式 */
.control-select {
    padding: 8px 12px; /* 设置内边距 */
    font-size: 14px; /* 设置字体大小 */
    border: 1px solid #ccc; /* 设置边框 */
    border-radius: 5px; /* 设置圆角 */
    background-color: #bdbdbd; /* 设置背景颜色 */
    cursor: pointer; /* 鼠标指针样式 */
    transition: border-color 0.2s; /* 添加边框颜色过渡效果 */
}

.control-select:focus {
    border-color: #007acc; /* 聚焦时边框颜色 */
    outline: none; /* 移除默认的聚焦样式 */
}